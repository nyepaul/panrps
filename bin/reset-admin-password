#!/usr/bin/env python3
"""Reset admin password to a known value."""

import sys
import os

# Add parent directory and src to path
parent_dir = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))
sys.path.insert(0, parent_dir)
sys.path.insert(0, os.path.join(parent_dir, 'src'))

from src.auth.models import User

def main():
    new_password = "***REMOVED***"

    # Get admin user
    admin = User.get_by_username("admin")

    if not admin:
        print("❌ Admin user not found!")
        return

    # Update password
    admin.password_hash = User.hash_password(new_password)
    admin.save()

    print("=" * 60)
    print("✅ Admin password reset successfully!")
    print("=" * 60)
    print()
    print("New credentials:")
    print(f"  Username: admin")
    print(f"  Password: {new_password}")
    print()
    print("=" * 60)

if __name__ == '__main__':
    main()
